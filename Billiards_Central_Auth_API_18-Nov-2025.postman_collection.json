{
	"info": {
		"_postman_id": "billiards-central-auth-api",
		"name": "Billiards Central Auth API - 18-Nov-2025",
		"description": "Complete API collection for Billiards Central Authentication Service (Local Development).\n\n**Deployment:**\n- Base URL: http://localhost:3005\n- Environment: Local Development\n\n**Features:**\n- User Registration (Email, Phone, Org ID)\n- Authentication (Customer & Organizer login with email, phone, or org_id)\n- Tournament management (Create tournament, Get tournaments, Delete tournament, Get status, Start tournament, Close tournament, Get registered players, Get tournament, Create rounds, Update round, Move players to round, Remove players from round, Move players between rounds, Delete round, Start match, Complete match, Cancel/Delete match, Save winner titles)\n- Customer portal (Get tournament, Register for tournament, Get profile, Update profile with Cloudinary file upload)\n- Organizer portal (Get profile, Update profile with Cloudinary file upload)\n- Public endpoints (Get active organizers, Get organizer tournaments)\n- Token-based authentication (Header or Body)\n- Automatic variable management (access_token, tournament_id, organizer_id, round_id, from_round_id, to_round_id, match_id)\n- Cloudinary integration for profile picture uploads\n\n**Usage:**\n1. Register users using 'Register Customer' or 'Register Organizer'\n2. Login to authenticate and get tokens\n3. Tokens are automatically saved to collection variables\n4. Create tournaments using 'Create Tournament' API (tournament ID auto-generated if not provided)\n5. Tournament IDs are automatically captured for easy testing\n6. Start tournament before creating rounds (tournament status must be 'started')\n7. Create rounds, then move registered players to specific rounds\n8. Update rounds with matches and player details using 'Update Round' API (can create/update/delete matches in one request)\n9. Remove players from rounds as needed\n10. Move players between rounds using atomic transaction\n11. Delete rounds if needed (all related matches and participants will be deleted via CASCADE)\n12. Start matches between players in a round (both players must be in the round)\n13. Complete matches by selecting winner and entering scores\n14. Cancel or delete matches (cancel sets status to 'cancelled', delete physically removes the match)\n15. Save winner titles with rankings and custom titles\n16. Close tournament when completed\n17. Delete tournament if needed (all related data will be deleted via CASCADE)\n18. Customers can get tournament details using 'Get Tournament' API\n19. Customers can register for tournaments using 'Register for Tournament' API\n20. Customers can get their profile using 'Get Profile' API\n21. Customers can update their profile using 'Update Profile' API (all fields optional, supports file upload via Cloudinary)\n22. Organizers can get their profile using 'Get Profile' API\n23. Organizers can update their profile using 'Update Profile' API (all fields optional, supports file upload via Cloudinary)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "billiards-auth",
		"version": "1.0.0"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Customer Login (Email)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('access_token', jsonData.data.accessToken);",
									"        pm.collectionVariables.set('refresh_token', jsonData.data.refreshToken);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"aditya.chopra@example.com\",\n  \"password\": \"Aditya123!\",\n  \"identifierType\": \"email\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Login for customer using email identifier. Automatically saves access_token and refresh_token to collection variables."
					},
					"response": []
				},
				{
					"name": "Customer Login (Phone)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('access_token', jsonData.data.accessToken);",
									"        pm.collectionVariables.set('refresh_token', jsonData.data.refreshToken);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"+911234567890\",\n  \"password\": \"password123\",\n  \"identifierType\": \"phone\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Login for customer using phone number identifier. Automatically saves access_token and refresh_token to collection variables."
					},
					"response": []
				},
				{
					"name": "Organizer Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('access_token', jsonData.data.accessToken);",
									"        pm.collectionVariables.set('refresh_token', jsonData.data.refreshToken);",
									"        if (jsonData.data.user && jsonData.data.user.id) {",
									"            pm.collectionVariables.set('organizer_id', jsonData.data.user.id);",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"ORG0022\",\n  \"password\": \"OrgPass123!\",\n  \"identifierType\": \"org_id\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Login for organizer using org_id identifier. Automatically saves access_token, refresh_token, and organizer_id to collection variables."
					},
					"response": []
				},
				{
					"name": "Register Customer (Email)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('access_token', jsonData.data.accessToken);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"test2@example.com\",\n  \"identifierType\": \"email\",\n  \"password\": \"password123\",\n  \"confirmPassword\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"test2@example.com\",\n  \"phone\": \"+911234567890\",\n  \"dateOfBirth\": \"1990-01-01\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						},
						"description": "Register a new customer using email identifier. Automatically saves access token to collection variables."
					},
					"response": []
				},
				{
					"name": "Register Customer (Phone)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('access_token', jsonData.data.accessToken);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"+911234567890\",\n  \"identifierType\": \"phone\",\n  \"password\": \"password123\",\n  \"confirmPassword\": \"password123\",\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"email\": \"jane.smith@example.com\",\n  \"phone\": \"+911234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						},
						"description": "Register a new customer using phone number as identifier"
					},
					"response": []
				},
				{
					"name": "Register Organizer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('access_token', jsonData.data.accessToken);",
									"        if (jsonData.data.user && jsonData.data.user.id) {",
									"            pm.collectionVariables.set('organizer_id', jsonData.data.user.id);",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"ORG003\",\n  \"identifierType\": \"org_id\",\n  \"password\": \"OrgPass123!\",\n  \"confirmPassword\": \"OrgPass123!\",\n  \"firstName\": \"Mike\",\n  \"lastName\": \"Organizer\",\n  \"email\": \"mike@billiards.com\",\n  \"phone\": \"+919876543210\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						},
						"description": "Register a new organizer using org_id identifier. Automatically saves access token and organizer_id to collection variables."
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"refresh"
							]
						},
						"description": "Refresh access token using refresh token"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"logout"
							]
						},
						"description": "Logout current session"
					},
					"response": []
				},
				{
					"name": "Logout All Devices",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/logout-all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"logout-all"
							]
						},
						"description": "Logout from all devices"
					},
					"response": []
				}
			],
			"description": "Authentication related endpoints"
		},
		{
			"name": "Token Validation & Profile",
			"item": [
				{
					"name": "Validate Token & Get Profile",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"{{access_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/verify",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"verify"
							]
						},
						"description": "Validate token and return user profile with all required fields"
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/verify",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"verify"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Profile retrieved successfully\",\n  \"data\": {\n    \"user\": {\n      \"uuid\": \"e20bc947-e813-48ae-8443-f048658871d2\",\n      \"identifier\": \"aditya.chopra@example.com\",\n      \"identifier_type\": \"email\",\n      \"user_type\": \"customer\",\n      \"isActive\": true,\n      \"isVerified\": false,\n      \"lastLogin\": \"2025-10-23T08:01:40.433Z\",\n      \"createdAt\": \"2025-10-23T07:15:14.244Z\"\n    }\n  }\n}"
						},
						{
							"name": "Token Expired",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"token\": \"expired_token_here\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/verify",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"verify"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Token has expired\",\n  \"error\": \"TOKEN_EXPIRED\",\n  \"data\": null\n}"
						},
						{
							"name": "Invalid Token",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"token\": \"invalid_token_here\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/verify",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"verify"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Invalid token format\",\n  \"error\": \"INVALID_TOKEN\",\n  \"data\": null\n}"
						},
						{
							"name": "User Inactive",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"token\": \"valid_token_for_inactive_user\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/verify",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"auth",
										"verify"
									]
								}
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User account is inactive\",\n  \"error\": \"USER_INACTIVE\",\n  \"data\": {\n    \"user\": {\n      \"uuid\": \"user-id-here\",\n      \"identifier\": \"user@example.com\",\n      \"identifier_type\": \"email\",\n      \"user_type\": \"customer\",\n      \"isActive\": false,\n      \"isVerified\": true,\n      \"lastLogin\": \"2025-10-23T08:00:00.000Z\",\n      \"createdAt\": \"2025-10-23T07:00:00.000Z\"\n    }\n  }\n}"
						}
					]
				},
				{
					"name": "Get Profile (Protected)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"profile"
							]
						},
						"description": "Get user profile using Authorization header"
					},
					"response": []
				},
				{
					"name": "Check User Exists",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"user@example.com\",\n  \"identifierType\": \"email\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/check-user",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"check-user"
							]
						},
						"description": "Check if user exists before registration"
					},
					"response": []
				}
			],
			"description": "Token validation and profile management"
		},
		{
			"name": "Password Management",
			"item": [
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"user@example.com\",\n  \"identifierType\": \"email\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/forgot-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"forgot-password"
							]
						},
						"description": "Request password reset"
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"reset_token_here\",\n  \"newPassword\": \"NewPassword123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"reset-password"
							]
						},
						"description": "Reset password using reset token"
					},
					"response": []
				},
				{
					"name": "Change Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"currentPassword\": \"CurrentPassword123!\",\n  \"newPassword\": \"NewPassword123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/change-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"change-password"
							]
						},
						"description": "Change password for authenticated user"
					},
					"response": []
				}
			],
			"description": "Password management endpoints"
		},
		{
			"name": "Profile Management",
			"item": [
				{
					"name": "Update Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"newemail@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"profile"
							]
						},
						"description": "Update user profile"
					},
					"response": []
				},
				{
					"name": "Get User Sessions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/sessions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"sessions"
							]
						},
						"description": "Get all active user sessions"
					},
					"response": []
				}
			],
			"description": "Profile and session management"
		},
		{
			"name": "Email Verification",
			"item": [
				{
					"name": "Verify Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"verification_token_here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/verify-email",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"verify-email"
							]
						},
						"description": "Verify email address using verification token"
					},
					"response": []
				},
				{
					"name": "Verify Phone",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"code\": \"123456\",\n  \"phone\": \"+1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/verify-phone",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"verify-phone"
							]
						},
						"description": "Verify phone number using verification code"
					},
					"response": []
				}
			],
			"description": "Email and phone verification"
		},
		{
			"name": "Organizers",
			"item": [
				{
					"name": "Create Tournament",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data && jsonData.data.tournament) {",
									"        pm.collectionVariables.set('tournament_id', jsonData.data.tournament.id);",
									"        pm.test('Tournament created successfully', function () {",
									"            pm.expect(jsonData.data.tournament.tournamentId).to.exist;",
									"            pm.expect(jsonData.data.tournament.status).to.eql('scheduled');",
									"        });",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tournamentName\": \"Championship 2025\",\n  \"gameType\": \"8-ball\",\n  \"tournamentDate\": \"2025-11-15\",\n  \"tournamentTime\": \"14:00:00\",\n  \"maxPlayers\": 50,\n  \"entryFee\": 750.00,\n  \"prizePool\": 10000.00,\n  \"description\": \"Annual championship tournament\",\n  \"registrationDeadline\": \"2025-11-14T23:59:59.000Z\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments" ]
						},
						"description": "Create a new tournament. Requires valid organizer token. Tournament ID is auto-generated if not provided (format: TOUR0001, TOUR0002, etc.).\n\n**Required Fields:**\n- `tournamentName` (string): Name of the tournament\n- `gameType` (string): Must be one of: '8-ball', '9-ball', 'snooker'\n- `tournamentDate` (string): Date in YYYY-MM-DD format\n- `tournamentTime` (string): Time in HH:MM:SS format\n\n**Optional Fields:**\n- `tournamentId` (string): Custom tournament ID (auto-generated if not provided)\n- `maxPlayers` (number, default: 50): Maximum number of players\n- `entryFee` (number, default: 0): Entry fee for the tournament\n- `prizePool` (number): Total prize pool amount\n- `description` (string): Tournament description\n- `registrationDeadline` (Date): Registration deadline timestamp\n- `venueId` (uuid): Venue ID\n- `status` (string, default: 'scheduled'): Tournament status\n\n**Note:** Automatically saves tournament ID to collection variable for easy testing."
					},
					"response": [
						{
							"name": "Success",
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Tournament created successfully\",\n  \"data\": {\n    \"tournament\": {\n      \"id\": \"tournament-uuid\",\n      \"tournamentId\": \"TOUR0001\",\n      \"tournamentName\": \"Championship 2025\",\n      \"gameType\": \"8-ball\",\n      \"tournamentDate\": \"2025-11-15\",\n      \"tournamentTime\": \"14:00:00\",\n      \"status\": \"scheduled\",\n      \"maxPlayers\": 50,\n      \"entryFee\": 750.00,\n      \"prizePool\": 10000.00,\n      \"createdAt\": \"2025-11-14T10:00:00.000Z\"\n    }\n  }\n}"
						},
						{
							"name": "Bad Request - Missing Required Field",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"tournamentName is required and must be a non-empty string\"\n}"
						},
						{
							"name": "Bad Request - Invalid Game Type",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Invalid game type. Must be one of: 8-ball, 9-ball, snooker\"\n}"
						},
						{
							"name": "Bad Request - Tournament ID Exists",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament ID already exists\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Get Tournaments (Header)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data && jsonData.data.tournaments && jsonData.data.tournaments.length > 0) {",
									"        pm.collectionVariables.set('tournament_id', jsonData.data.tournaments[0].id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"organizers",
								"tournaments"
							]
						},
						"description": "Get all tournaments for the authenticated organizer. Organizer ID is automatically extracted from the JWT token. Token can be provided in Authorization header (Bearer token) or in request body. Automatically saves the first tournament ID to collection variable for easy testing."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/organizers/tournaments",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"organizers",
										"tournaments"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Tournaments fetched successfully\",\n  \"data\": {\n    \"tournaments\": [],\n    \"count\": 0\n  }\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer invalid_token"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/organizers/tournaments",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"organizers",
										"tournaments"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Access token required\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/organizers/tournaments",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"organizers",
										"tournaments"
									]
								}
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Get Tournament Players",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"{{access_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/players",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"organizers",
								"tournaments",
								"{{tournament_id}}",
								"players"
							]
						},
						"description": "Get registered players for a specific tournament. Token is passed in request body, tournament ID in URL parameter. Requires organizer authentication and verifies tournament ownership."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"token\": \"{{access_token}}\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/players",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"organizers",
										"tournaments",
										"{{tournament_id}}",
										"players"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Registered players fetched successfully\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"players\": [\n      {\n        \"registrationId\": \"registration-uuid\",\n        \"registrationDate\": \"2025-10-28T10:00:00Z\",\n        \"paymentStatus\": \"paid\",\n        \"paymentAmount\": 500.00,\n        \"paymentMethod\": \"credit_card\",\n        \"registrationStatus\": \"registered\",\n        \"userId\": \"user-uuid\",\n        \"customerProfileId\": \"profile-uuid\",\n        \"firstName\": \"John\",\n        \"lastName\": \"Doe\",\n        \"fullName\": \"John Doe\",\n        \"email\": \"john@example.com\",\n        \"phone\": \"+1234567890\",\n        \"profilePic\": \"https://example.com/pic.jpg\",\n        \"skillLevel\": \"Intermediate\",\n        \"rating\": 1200,\n        \"city\": \"Mumbai\",\n        \"state\": \"Maharashtra\",\n        \"country\": \"India\",\n        \"isVerified\": true,\n        \"userCreatedAt\": \"2025-01-01T00:00:00Z\"\n      }\n    ],\n    \"count\": 1\n  }\n}"
						},
						{
							"name": "Tournament Not Found",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"token\": \"{{access_token}}\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/organizers/tournaments/invalid-tournament-id/players",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"organizers",
										"tournaments",
										"invalid-tournament-id",
										"players"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Forbidden - Tournament Not Owned",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"token\": \"{{access_token}}\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/organizers/tournaments/other-organizer-tournament-id/players",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"organizers",
										"tournaments",
										"other-organizer-tournament-id",
										"players"
									]
								}
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament does not belong to this organizer\"\n}"
						}
					]
				},
				{
					"name": "Get Tournament Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"organizers",
								"tournaments",
								"{{tournament_id}}",
								"status"
							]
						},
						"description": "Get tournament status. Returns status column value and whether tournament has started. Requires a valid organizer token and tournament ownership."
					},
					"response": [
						{
							"name": "Success Response",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Tournament status fetched successfully\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"status\": \"started\",\n    \"isStarted\": true,\n    \"startedAt\": \"2025-10-31T10:00:00Z\"\n  }\n}"
						},
						{
							"name": "Tournament Not Found",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Forbidden - Not Owner",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament does not belong to this organizer\"\n}"
						}
					]
				},
				{
					"name": "Get Tournament",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"organizers",
								"tournaments",
								"{{tournament_id}}"
							]
						},
						"description": "Get tournament with basic details, registered players, and tournament_status object. Returns tournament object (id, name, status, dates, fees, etc.), players array (same as Get Registered Players API), and a rich tournament_status payload (tournament overview, rounds, matches, winners podium). Requires a valid organizer token and tournament ownership."
					},
					"response": [
						{
							"name": "Success Response",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Tournament fetched successfully\",\n  \"data\": {\n    \"tournament\": {\n      \"id\": \"f79a142b-d6ae-4c6a-b38e-23ca34ad570e\",\n      \"tournamentId\": \"TOUR0001\",\n      \"tournamentName\": \"Mumbai Open 8-Ball Championship\",\n      \"gameType\": \"8-ball\",\n      \"tournamentDate\": \"2025-11-17\",\n      \"tournamentTime\": \"14:00:00\",\n      \"registrationDeadline\": \"2025-11-16T23:59:59.000Z\",\n      \"status\": \"started\",\n      \"registeredCount\": 20,\n      \"maxPlayers\": 64,\n      \"entryFee\": 750.00,\n      \"prizePool\": 10000.00,\n      \"startedAt\": \"2025-11-17T14:00:00.000Z\",\n      \"endedAt\": null,\n      \"description\": \"Annual championship tournament\"\n    },\n    \"players\": [\n      {\n        \"registrationId\": \"5ba8ad72-f92c-44ea-8d0a-8d5460e7ff69\",\n        \"registrationDate\": \"2025-11-04T22:32:56.490Z\",\n        \"paymentStatus\": \"paid\",\n        \"paymentAmount\": 750,\n        \"paymentMethod\": \"upi\",\n        \"registrationStatus\": \"registered\",\n        \"userId\": \"607a9248-82d2-4d1a-8804-c30786f5b4c6\",\n        \"customerProfileId\": \"a6f6fbae-1b2d-4a39-b187-3ce813875afb\",\n        \"firstName\": \"neha\",\n        \"lastName\": \"joshi@example\",\n        \"fullName\": \"neha joshi@example\",\n        \"email\": \"neha.joshi@example.com\",\n        \"phone\": \"9095635670\",\n        \"profilePic\": \"https://i.pravatar.cc/400?img=14\",\n        \"skillLevel\": \"beginner\",\n        \"rating\": 938,\n        \"city\": \"Mumbai\",\n        \"state\": \"Maharashtra\",\n        \"country\": \"India\",\n        \"isVerified\": true,\n        \"userCreatedAt\": \"2025-11-03T09:30:37.944Z\"\n      }\n    ],\n    \"tournament_status\": {\n      \"tournament\": {\n        \"code\": \"tour_mum_8ball_001\",\n        \"name\": \"Mumbai Open 8-Ball Championship\",\n        \"game_type\": \"8-ball\",\n        \"date\": \"2025-11-17\",\n        \"status\": \"in_progress\",\n        \"registered\": 20,\n        \"max_players\": 64\n      },\n      \"rounds\": [\n        {\n          \"round_number\": 1,\n          \"display_name\": \"Round of 32\",\n          \"status\": \"completed\",\n          \"total_matches\": 10,\n          \"completed_matches\": 10,\n          \"players\": [\n            {\n              \"player_id\": \"uuid1\",\n              \"name\": \"Rahul Verma\",\n              \"email\": \"rahul@example.com\",\n              \"seed\": 1,\n              \"is_bye\": false,\n              \"advanced_from\": null\n            }\n          ],\n          \"matches\": [\n            {\n              \"match_number\": 1,\n              \"status\": \"completed\",\n              \"score\": \"7-4\",\n              \"table_number\": 1,\n              \"start_time\": \"2025-11-17T10:00:00Z\",\n              \"end_time\": \"2025-11-17T10:45:00Z\",\n              \"player1\": {\n                \"id\": \"uuid1\",\n                \"name\": \"Rahul Verma\",\n                \"email\": \"rahul@example.com\"\n              },\n              \"player2\": {\n                \"id\": \"uuid3\",\n                \"name\": \"Amit Singh\",\n                \"email\": \"amit@example.com\"\n              },\n              \"winner\": {\n                \"id\": \"uuid1\",\n                \"name\": \"Rahul Verma\"\n              }\n            }\n          ]\n        }\n      ],\n      \"winners_podium\": [\n        { \"rank\": 1, \"name\": \"Rahul Verma\", \"title\": \"Champion\" },\n        { \"rank\": 2, \"name\": \"Priya Patel\", \"title\": \"Runner Up\" },\n        { \"rank\": 3, \"name\": \"Vishal Kumar\", \"title\": \"Semi Finalist\" }\n      ]\n    },\n    \"count\": 20\n  }\n}"
						},
						{
							"name": "Tournament Not Found",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Forbidden - Not Owner",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament does not belong to this organizer\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Invalid or expired token\"\n}"
						}
					]
				},
				{
					"name": "Delete Tournament",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"  const json = pm.response.json();",
									"  pm.test('Tournament deleted successfully', function () {",
									"    pm.expect(json.success).to.be.true;",
									"    pm.expect(json.data.tournamentId).to.exist;",
									"  });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}" ]
						},
						"description": "Delete a tournament. Requires valid organizer token and tournament ownership. All related records (rounds, matches, registrations, winners) will be automatically deleted due to CASCADE constraints."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Tournament deleted successfully\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\"\n  }\n}"
						},
						{
							"name": "Not Found",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Forbidden - Not Owner",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament does not belong to this organizer\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Start Tournament",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"  const json = pm.response.json();",
									"  pm.test('Status is started', function () { pm.expect(json.data.status).to.eql('started'); });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/start",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "start" ]
						},
						"description": "Marks the tournament as started. Requires a valid organizer token and ownership of the tournament."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Tournament started successfully\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"status\": \"started\",\n    \"startedAt\": \"2025-11-01T17:00:00.000Z\"\n  }\n}"
						},
						{
							"name": "Forbidden - Not Owner",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament does not belong to this organizer\"\n}"
						},
						{
							"name": "Not Found",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						}
					]
				},
				{
					"name": "Close Tournament",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"  const json = pm.response.json();",
									"  pm.test('Status is completed', function () { pm.expect(json.data.status).to.eql('completed'); });",
									"  pm.test('EndedAt is set', function () { pm.expect(json.data.endedAt).to.exist; });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/close",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "close" ]
						},
						"description": "Closes/Completes a tournament by setting status to 'completed' and recording the ended_at timestamp. Requires a valid organizer token and tournament ownership. Tournament must be 'started' or 'running' to be closed. If already completed, calling this API will update the ended_at timestamp."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Tournament closed successfully\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"status\": \"completed\",\n    \"endedAt\": \"2025-11-14T14:00:00.000Z\"\n  }\n}"
						},
						{
							"name": "Forbidden - Not Owner",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament does not belong to this organizer\"\n}"
						},
						{
							"name": "Not Found",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Bad Request - Not Started",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament must be started or running before closing. Current status: scheduled\"\n}"
						},
						{
							"name": "Bad Request - Cancelled",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Cannot close a cancelled tournament\"\n}"
						}
					]
				},
				{
					"name": "Create Round",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"roundNumber\": 1,\n  \"roundName\": \"Quarterfinals\",\n  \"roundDisplayName\": \"Quarter Finals\",\n  \"status\": \"active\",\n  \"isFreezed\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds" ]
						},
						"description": "Create a round for a tournament. Requires valid organizer token, tournament ownership, and tournament must be started (status = 'started'). roundNumber is required; roundName, roundDisplayName, status (pending/active/completed), and isFreezed are optional.\n\n**Important:** Tournament must be started before creating rounds. Use 'Start Tournament' API first."
					},
					"response": [
						{
							"name": "Success",
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Round created successfully\",\n  \"data\": {\n    \"round\": {\n      \"id\": \"round-uuid\",\n      \"tournamentId\": \"tournament-uuid\",\n      \"roundNumber\": 1,\n      \"roundName\": \"Quarterfinals\",\n      \"roundDisplayName\": \"Quarter Finals\",\n      \"status\": \"active\",\n      \"isFreezed\": false,\n      \"createdAt\": \"2025-11-01T17:17:00.000Z\"\n    }\n  }\n}"
						},
						{
							"name": "Bad Request - Missing roundNumber",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"roundNumber is required and must be a number\"\n}"
						},
						{
							"name": "Bad Request - Invalid Status",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"status must be one of: pending, active, completed\"\n}"
						},
						{
							"name": "Conflict - Round Already Exists",
							"status": "Conflict",
							"code": 409,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round 1 already exists for this tournament\"\n}"
						},
						{
							"name": "Forbidden - Not Owner",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament does not belong to this organizer\"\n}"
						},
						{
							"name": "Bad Request - Tournament Not Started",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament must be started before creating rounds. Current status: scheduled\"\n}"
						},
						{
							"name": "Tournament Not Found",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						}
					]
				},
				{
					"name": "Move Players to Round",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.collectionVariables.set('round_id', jsonData.data.roundId);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"playerIds\": [\n    \"customer-profile-uuid-1\",\n    \"customer-profile-uuid-2\",\n    \"customer-profile-uuid-3\"\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds/{{round_id}}/players",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds", "{{round_id}}", "players" ]
						},
						"description": "Move selected players to a specific round. Accepts both customer_profile IDs and user IDs. Players must be registered or checked_in in the tournament. Duplicate players (already in round) will be skipped.\n\n**Request Body:**\n- `playerIds` (array, required): Array of customer_profile IDs or user IDs\n\n**Note:** The API automatically resolves user IDs to customer_profile IDs if needed. Accepts players with 'registered' or 'checked_in' status."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully moved 3 player(s) to round\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"moved\": 3,\n    \"skipped\": 0,\n    \"notFound\": 0,\n    \"notRegistered\": 0,\n    \"total\": 3\n  }\n}"
						},
						{
							"name": "Success - Some Skipped",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully moved 2 player(s) to round. 1 player(s) not registered in tournament.\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"moved\": 2,\n    \"skipped\": 0,\n    \"notFound\": 0,\n    \"notRegistered\": 1,\n    \"total\": 3\n  }\n}"
						},
						{
							"name": "Bad Request - No Players",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"playerIds array is required and must contain at least one player ID\"\n}"
						},
						{
							"name": "Success - Some Not Found",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully moved 2 player(s) to round. 1 player(s) not found.\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"moved\": 2,\n    \"skipped\": 0,\n    \"notFound\": 1,\n    \"notRegistered\": 0,\n    \"total\": 3\n  }\n}"
						},
						{
							"name": "Forbidden - Players Not Registered",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"None of the provided players are registered in this tournament\"\n}"
						},
						{
							"name": "Forbidden - Round Not Owned",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round does not belong to this tournament\"\n}"
						},
						{
							"name": "Not Found - Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round not found\"\n}"
						}
					]
				},
				{
					"name": "Remove Players from Round",
					"request": {
						"method": "DELETE",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"playerIds\": [\n    \"customer-profile-uuid-1\",\n    \"customer-profile-uuid-2\"\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds/{{round_id}}/players/remove",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds", "{{round_id}}", "players", "remove" ]
						},
						"description": "Remove selected players from a specific round. Accepts both customer_profile IDs and user IDs. Players that are not in the round will be counted as 'notFound'.\n\n**Request Body:**\n- `playerIds` (array, required): Array of customer_profile IDs or user IDs\n\n**Note:** The API automatically resolves user IDs to customer_profile IDs if needed."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully removed 2 player(s) from round\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"removed\": 2,\n    \"notFound\": 0,\n    \"total\": 2\n  }\n}"
						},
						{
							"name": "Success - Some Not Found",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully removed 1 player(s) from round\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"removed\": 1,\n    \"notFound\": 1,\n    \"total\": 2\n  }\n}"
						},
						{
							"name": "Bad Request - No Players",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"playerIds array is required and must contain at least one player ID\"\n}"
						},
						{
							"name": "Forbidden - Round Not Owned",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round does not belong to this tournament\"\n}"
						},
						{
							"name": "Forbidden - Tournament Not Owned",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament does not belong to this organizer\"\n}"
						},
						{
							"name": "Not Found - Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round not found\"\n}"
						},
						{
							"name": "Not Found - Tournament",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Update Round",
					"request": {
						"method": "PUT",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"roundName\": \"Quarterfinals Updated\",\n  \"roundDisplayName\": \"Quarter Finals Updated\",\n  \"status\": \"active\",\n  \"isFreezed\": false,\n  \"matches\": [\n    {\n      \"id\": \"match-uuid-1\",\n      \"player1Id\": \"customer-profile-uuid-1\",\n      \"player2Id\": \"customer-profile-uuid-2\",\n      \"status\": \"ongoing\",\n      \"tableNumber\": 1,\n      \"startTime\": \"2025-11-20T10:00:00Z\"\n    },\n    {\n      \"player1Id\": \"customer-profile-uuid-3\",\n      \"player2Id\": \"customer-profile-uuid-4\",\n      \"status\": \"scheduled\",\n      \"matchNumber\": 2,\n      \"tableNumber\": 2\n    }\n  ],\n  \"deleteMatchIds\": [\"match-uuid-to-delete\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds/{{round_id}}",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds", "{{round_id}}" ]
						},
						"description": "Update a round with matches and player details. All fields are optional. Can update round details, create/update/delete matches in a single request.\n\n**Request Body:**\n- `roundName` (string, optional): Round name\n- `roundDisplayName` (string, optional): Display name for the round\n- `status` (string, optional): Round status - 'pending', 'active', or 'completed'\n- `isFreezed` (boolean, optional): Whether the round is frozen\n- `matches` (array, optional): Array of matches to create/update\n  - `id` (string, optional): Match ID - if provided, updates existing match; if not, creates new match\n  - `player1Id` (string, required): Player 1 ID (customer_profile ID or user ID)\n  - `player2Id` (string, required): Player 2 ID (customer_profile ID or user ID)\n  - `matchNumber` (number, optional): Match number (auto-generated if not provided for new matches)\n  - `status` (string, optional): Match status - 'scheduled', 'ongoing', 'completed', 'cancelled'\n  - `winnerId` (string, optional): Winner ID (must be one of the players)\n  - `scorePlayer1` (number, optional): Score for player 1\n  - `scorePlayer2` (number, optional): Score for player 2\n  - `startTime` (string/Date, optional): Match start time\n  - `endTime` (string/Date, optional): Match end time\n  - `tableNumber` (number, optional): Table number\n- `deleteMatchIds` (array, optional): Array of match IDs to delete\n\n**Note:** Both players must be in the round. Player IDs can be customer_profile IDs or user IDs (will be resolved automatically)."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Round updated successfully\",\n  \"data\": {\n    \"round\": {\n      \"id\": \"round-uuid\",\n      \"tournamentId\": \"tournament-uuid\",\n      \"roundNumber\": 1,\n      \"roundName\": \"Quarterfinals Updated\",\n      \"roundDisplayName\": \"Quarter Finals Updated\",\n      \"status\": \"active\",\n      \"isFreezed\": false,\n      \"createdAt\": \"2025-11-01T17:17:00.000Z\"\n    },\n    \"matches\": [\n      {\n        \"id\": \"match-uuid-1\",\n        \"matchNumber\": 1,\n        \"status\": \"ongoing\",\n        \"startTime\": \"2025-11-20T10:00:00.000Z\",\n        \"endTime\": null,\n        \"tableNumber\": 1,\n        \"scorePlayer1\": null,\n        \"scorePlayer2\": null,\n        \"player1\": {\n          \"id\": \"customer-profile-uuid-1\",\n          \"firstName\": \"John\",\n          \"lastName\": \"Doe\",\n          \"displayName\": \"John Doe\",\n          \"email\": \"john.doe@example.com\",\n          \"profilePic\": \"https://cloudinary.com/image.jpg\",\n          \"skillLevel\": \"advanced\"\n        },\n        \"player2\": {\n          \"id\": \"customer-profile-uuid-2\",\n          \"firstName\": \"Jane\",\n          \"lastName\": \"Smith\",\n          \"displayName\": \"Jane Smith\",\n          \"email\": \"jane.smith@example.com\",\n          \"profilePic\": null,\n          \"skillLevel\": \"intermediate\"\n        },\n        \"winner\": null\n      }\n    ]\n  }\n}"
						},
						{
							"name": "Bad Request - Missing Player IDs",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Each match must have player1Id\"\n}"
						},
						{
							"name": "Bad Request - Invalid Match Status",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Invalid match status. Must be one of: scheduled, ongoing, completed, cancelled\"\n}"
						},
						{
							"name": "Bad Request - Players Not in Round",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Both players must be in this round\"\n}"
						},
						{
							"name": "Bad Request - Same Players",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Player 1 and Player 2 cannot be the same\"\n}"
						},
						{
							"name": "Not Found - Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round not found\"\n}"
						},
						{
							"name": "Not Found - Match",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Match with ID match-uuid not found in this round\"\n}"
						},
						{
							"name": "Forbidden - Round Not Owned",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round does not belong to this tournament\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Delete Round",
					"request": {
						"method": "DELETE",
						"header": [
							{ "key": "Authorization", "value": "Bearer {{access_token}}" },
							{ "key": "Content-Type", "value": "application/json" }
						],
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds/{{round_id}}",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds", "{{round_id}}" ]
						},
						"description": "Delete a round from a tournament. Cascades to delete its matches and round participants via foreign key constraints. Requires valid organizer token and tournament ownership."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Round deleted successfully\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"deletedMatches\": 3,\n    \"deletedParticipants\": 16\n  }\n}"
						},
						{
							"name": "Forbidden - Round Not Owned",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round does not belong to this tournament\"\n}"
						},
						{
							"name": "Not Found - Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round not found\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Move Players Between Rounds",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"playerIds\": [\n    \"customer-profile-uuid-1\",\n    \"customer-profile-uuid-2\"\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds/{{from_round_id}}/move-to/{{to_round_id}}",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds", "{{from_round_id}}", "move-to", "{{to_round_id}}" ]
						},
						"description": "Move players from one round to another round. Uses transaction to ensure atomicity. Accepts both customer_profile IDs and user IDs.\n\n**Request Body:**\n- `playerIds` (array, required): Array of customer_profile IDs or user IDs\n\n**URL Parameters:**\n- `tournamentId`: Tournament ID\n- `fromRoundId`: Source round ID\n- `toRoundId`: Destination round ID\n\n**Note:** The API automatically resolves user IDs to customer_profile IDs if needed. Players already in the destination round will be skipped."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully moved 2 player(s) from round round-1-uuid to round round-2-uuid\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"fromRoundId\": \"round-1-uuid\",\n    \"toRoundId\": \"round-2-uuid\",\n    \"moved\": 2,\n    \"skipped\": 0,\n    \"notInSourceRound\": 0,\n    \"alreadyInDestination\": 0,\n    \"total\": 2\n  }\n}"
						},
						{
							"name": "Success - Some Skipped",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully moved 1 player(s) from round round-1-uuid to round round-2-uuid\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"fromRoundId\": \"round-1-uuid\",\n    \"toRoundId\": \"round-2-uuid\",\n    \"moved\": 1,\n    \"skipped\": 1,\n    \"notInSourceRound\": 0,\n    \"alreadyInDestination\": 1,\n    \"total\": 2\n  }\n}"
						},
						{
							"name": "Bad Request - No Players",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"playerIds array is required and must contain at least one player ID\"\n}"
						},
						{
							"name": "Bad Request - Same Round",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Cannot move players to the same round\"\n}"
						},
						{
							"name": "Forbidden - Round Not Owned",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Source round does not belong to this tournament\"\n}"
						},
						{
							"name": "Not Found - Source Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Source round not found\"\n}"
						},
						{
							"name": "Not Found - Destination Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Destination round not found\"\n}"
						},
						{
							"name": "Not Found - Players Not in Source",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"None of the provided players are in the source round\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Start Match",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"player1Id\": \"customer-profile-uuid-1\",\n  \"player2Id\": \"customer-profile-uuid-2\",\n  \"tableNumber\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds/{{round_id}}/matches",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds", "{{round_id}}", "matches" ]
						},
						"description": "Start/Create a match between two players in a round. Accepts both customer_profile IDs and user IDs. If a scheduled match already exists between these players, it will be updated to 'ongoing' status. Automatically saves match_id to collection variable.\n\n**Request Body:**\n- `player1Id` (string, required): Customer profile ID or user ID of first player\n- `player2Id` (string, required): Customer profile ID or user ID of second player\n- `tableNumber` (number, optional): Table number for the match\n\n**Note:** The API automatically resolves user IDs to customer_profile IDs if needed. Both players must be in the round."
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data && jsonData.data.matchId) {",
									"        pm.collectionVariables.set('match_id', jsonData.data.matchId);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Match started successfully\",\n  \"data\": {\n    \"matchId\": \"match-uuid\",\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"player1Id\": \"customer-profile-uuid-1\",\n    \"player2Id\": \"customer-profile-uuid-2\",\n    \"matchNumber\": 1,\n    \"status\": \"ongoing\",\n    \"startTime\": \"2025-11-12T18:30:00.000Z\",\n    \"tableNumber\": 1\n  }\n}"
						},
						{
							"name": "Bad Request - Same Player",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Player 1 and Player 2 cannot be the same\"\n}"
						},
						{
							"name": "Bad Request - Match Already Ongoing",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Match between these players is already ongoing\"\n}"
						},
						{
							"name": "Bad Request - Match Already Completed",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Match between these players is already completed\"\n}"
						},
						{
							"name": "Not Found - Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round not found\"\n}"
						},
						{
							"name": "Not Found - Players Not in Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Both players must be in this round\"\n}"
						},
						{
							"name": "Bad Request - Round Not Owned",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round does not belong to this tournament\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Complete Match",
					"request": {
						"method": "PATCH",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"winnerId\": \"customer-profile-uuid-1\",\n  \"scorePlayer1\": 5,\n  \"scorePlayer2\": 4\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds/{{round_id}}/matches/{{match_id}}",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds", "{{round_id}}", "matches", "{{match_id}}" ]
						},
						"description": "Complete/Close a match with winner and scores. Updates match status to 'completed', sets winner_id, scores, and end_time. Accepts both customer_profile IDs and user IDs for winnerId.\n\n**Request Body:**\n- `winnerId` (string, required): Customer profile ID or user ID of the winner\n- `scorePlayer1` (number, required): Score for player 1\n- `scorePlayer2` (number, required): Score for player 2\n\n**Note:** The API automatically resolves user IDs to customer_profile IDs if needed. Winner must be one of the players, and winner's score must be higher.\n\n**URL Parameters:**\n- `tournamentId`: Tournament ID\n- `roundId`: Round ID\n- `matchId`: Match ID (use {{match_id}} variable saved from Start Match API)"
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        // Match is completed, match_id is already saved from Start Match",
									"        pm.test('Match completed successfully', function () {",
									"            pm.expect(jsonData.data.status).to.eql('completed');",
									"            pm.expect(jsonData.data.winnerId).to.exist;",
									"        });",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Match completed successfully\",\n  \"data\": {\n    \"matchId\": \"match-uuid\",\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"player1Id\": \"customer-profile-uuid-1\",\n    \"player2Id\": \"customer-profile-uuid-2\",\n    \"winnerId\": \"customer-profile-uuid-1\",\n    \"scorePlayer1\": 5,\n    \"scorePlayer2\": 4,\n    \"status\": \"completed\",\n    \"startTime\": \"2025-11-12T18:30:00.000Z\",\n    \"endTime\": \"2025-11-12T19:05:00.000Z\"\n  }\n}"
						},
						{
							"name": "Bad Request - Already Completed",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Match is already completed\"\n}"
						},
						{
							"name": "Bad Request - Cancelled Match",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Cannot complete a cancelled match\"\n}"
						},
						{
							"name": "Bad Request - Winner Not a Player",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Winner must be one of the players in this match\"\n}"
						},
						{
							"name": "Bad Request - Winner Score Not Higher",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Winner must have a higher score\"\n}"
						},
						{
							"name": "Bad Request - Negative Scores",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Scores cannot be negative\"\n}"
						},
						{
							"name": "Not Found - Match",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Match not found\"\n}"
						},
						{
							"name": "Not Found - Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round not found\"\n}"
						},
						{
							"name": "Bad Request - Match Not in Round",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Match does not belong to this round\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Cancel/Delete Match",
					"request": {
						"method": "DELETE",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"deleteMatch\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/rounds/{{round_id}}/matches/{{match_id}}",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "rounds", "{{round_id}}", "matches", "{{match_id}}" ]
						},
						"description": "Cancel or delete a match. By default, sets match status to 'cancelled'. If deleteMatch=true, physically deletes the match from the database. Cannot cancel a completed match.\n\n**Request Body:**\n- `deleteMatch` (boolean, optional): If true, physically deletes the match; if false/undefined, sets status to 'cancelled' (default: false)\n\n**URL Parameters:**\n- `tournamentId`: Tournament ID\n- `roundId`: Round ID\n- `matchId`: Match ID (use {{match_id}} variable saved from Start Match API)\n\n**Note:** Cannot cancel a completed match. Use this to cancel scheduled or ongoing matches."
					},
					"response": [
						{
							"name": "Success - Cancelled",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Match cancelled successfully\",\n  \"data\": {\n    \"matchId\": \"match-uuid\",\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"deleted\": false,\n    \"status\": \"cancelled\"\n  }\n}"
						},
						{
							"name": "Success - Deleted",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Match deleted successfully\",\n  \"data\": {\n    \"matchId\": \"match-uuid\",\n    \"tournamentId\": \"tournament-uuid\",\n    \"roundId\": \"round-uuid\",\n    \"deleted\": true\n  }\n}"
						},
						{
							"name": "Bad Request - Cannot Cancel Completed Match",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Cannot cancel a completed match\"\n}"
						},
						{
							"name": "Not Found - Match",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Match not found\"\n}"
						},
						{
							"name": "Not Found - Round",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round not found\"\n}"
						},
						{
							"name": "Bad Request - Match Not in Round",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Match does not belong to this round\"\n}"
						},
						{
							"name": "Bad Request - Round Not Owned",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Round does not belong to this tournament\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Save Winner Titles",
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"winners\": [\n    {\n      \"customerId\": \"customer-profile-uuid-1\",\n      \"rank\": 1,\n      \"title\": \"Champion\",\n      \"isCustomTitle\": false,\n      \"displayInResults\": true\n    },\n    {\n      \"customerId\": \"customer-profile-uuid-2\",\n      \"rank\": 2,\n      \"title\": \"Runner Up\",\n      \"isCustomTitle\": false,\n      \"displayInResults\": true\n    },\n    {\n      \"customerId\": \"customer-profile-uuid-3\",\n      \"rank\": 3,\n      \"title\": \"Third Place\",\n      \"isCustomTitle\": false,\n      \"displayInResults\": true\n    },\n    {\n      \"customerId\": \"customer-profile-uuid-4\",\n      \"rank\": 4,\n      \"title\": \"Best Player\",\n      \"isCustomTitle\": true,\n      \"displayInResults\": true\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/tournaments/{{tournament_id}}/winners",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "tournaments", "{{tournament_id}}", "winners" ]
						},
						"description": "Save winner titles for a tournament. Accepts both customer_profile IDs and user IDs. Replaces all existing winners for the tournament.\n\n**Request Body:**\n- `winners` (array, required): Array of winner objects\n  - `customerId` (string, required): Customer profile ID or user ID of the winner\n  - `rank` (number, required): Rank/position (must be >= 1, must be unique)\n  - `title` (string, required): Winner title (e.g., \"Champion\", \"Runner Up\", \"Third Place\", or custom title)\n  - `isCustomTitle` (boolean, optional): Whether the title is custom (default: false)\n  - `displayInResults` (boolean, optional): Whether to display in results (default: true)\n\n**Note:** The API automatically resolves user IDs to customer_profile IDs if needed. All winners must be registered in the tournament. Ranks must be unique."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully saved 4 winner title(s)\",\n  \"data\": {\n    \"tournamentId\": \"tournament-uuid\",\n    \"winners\": [\n      {\n        \"id\": \"winner-uuid-1\",\n        \"tournamentId\": \"tournament-uuid\",\n        \"customerId\": \"customer-profile-uuid-1\",\n        \"rank\": 1,\n        \"title\": \"Champion\",\n        \"isCustomTitle\": false,\n        \"displayInResults\": true\n      },\n      {\n        \"id\": \"winner-uuid-2\",\n        \"tournamentId\": \"tournament-uuid\",\n        \"customerId\": \"customer-profile-uuid-2\",\n        \"rank\": 2,\n        \"title\": \"Runner Up\",\n        \"isCustomTitle\": false,\n        \"displayInResults\": true\n      },\n      {\n        \"id\": \"winner-uuid-3\",\n        \"tournamentId\": \"tournament-uuid\",\n        \"customerId\": \"customer-profile-uuid-3\",\n        \"rank\": 3,\n        \"title\": \"Third Place\",\n        \"isCustomTitle\": false,\n        \"displayInResults\": true\n      },\n      {\n        \"id\": \"winner-uuid-4\",\n        \"tournamentId\": \"tournament-uuid\",\n        \"customerId\": \"customer-profile-uuid-4\",\n        \"rank\": 4,\n        \"title\": \"Best Player\",\n        \"isCustomTitle\": true,\n        \"displayInResults\": true\n      }\n    ]\n  }\n}"
						},
						{
							"name": "Bad Request - No Winners",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Winners array is required and must contain at least one winner\"\n}"
						},
						{
							"name": "Bad Request - Duplicate Ranks",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Ranks must be unique\"\n}"
						},
						{
							"name": "Bad Request - Invalid Customer IDs",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Invalid customer IDs: uuid-1, uuid-2\"\n}"
						},
						{
							"name": "Bad Request - Not Registered",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Some customers are not registered in this tournament\"\n}"
						},
						{
							"name": "Not Found - Tournament",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/profile",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "profile" ]
						},
						"description": "Get organizer profile. Returns the current organizer's profile information including all profile fields. Requires valid organizer token.\n\n**Response Fields:**\n- `id` (uuid): Organizer profile ID\n- `userId` (uuid): User ID\n- `orgId` (string): Organization ID (format: ORG####)\n- `organizationName` (string): Organization name\n- `contactPersonName` (string, nullable): Contact person name\n- `phone` (string, nullable): Phone number\n- `email` (string, nullable): Email address\n- `city` (string, nullable): City\n- `state` (string, nullable): State\n- `country` (string, nullable): Country\n- `isPremium` (boolean): Premium status\n- `profilePicUrl` (string, nullable): Profile picture URL (Cloudinary URL if uploaded)\n- `createdAt` (datetime): Profile creation timestamp\n- `updatedAt` (datetime): Profile last update timestamp\n\n**Validations:**\n- Organizer must be authenticated\n- Organizer profile must exist\n\n**Note:** \n- Returns 404 if organizer profile doesn't exist\n- Returns 403 if user is not an organizer"
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Profile fetched successfully\",\n  \"data\": {\n    \"id\": \"organizer-profile-uuid\",\n    \"userId\": \"user-uuid\",\n    \"orgId\": \"ORG0022\",\n    \"organizationName\": \"Mumbai Billiards Club\",\n    \"contactPersonName\": \"John Doe\",\n    \"phone\": \"+1234567890\",\n    \"email\": \"contact@mumbaibilliards.com\",\n    \"city\": \"Mumbai\",\n    \"state\": \"Maharashtra\",\n    \"country\": \"India\",\n    \"isPremium\": false,\n    \"profilePicUrl\": \"https://res.cloudinary.com/your-cloud-name/image/upload/v1234567890/billiards/organizers/profiles/user-uuid_1234567890.jpg\",\n    \"createdAt\": \"2025-11-14T10:00:00.000Z\",\n    \"updatedAt\": \"2025-11-15T12:00:00.000Z\"\n  }\n}"
						},
						{
							"name": "Not Found - Profile",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer profile not found\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				},
				{
					"name": "Update Profile",
					"request": {
						"method": "PUT",
						"header": [
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "organizationName",
									"value": "Mumbai Billiards Club",
									"type": "text",
									"description": "Organization name (max 100 characters)"
								},
								{
									"key": "contactPersonName",
									"value": "John Doe",
									"type": "text",
									"description": "Contact person name (max 100 characters)"
								},
								{
									"key": "phone",
									"value": "+1234567890",
									"type": "text",
									"description": "Phone number (max 15 characters)"
								},
								{
									"key": "email",
									"value": "contact@mumbaibilliards.com",
									"type": "text",
									"description": "Email address (max 100 characters)"
								},
								{
									"key": "city",
									"value": "Mumbai",
									"type": "text",
									"description": "City (max 100 characters)"
								},
								{
									"key": "state",
									"value": "Maharashtra",
									"type": "text",
									"description": "State (max 100 characters)"
								},
								{
									"key": "country",
									"value": "India",
									"type": "text",
									"description": "Country (max 100 characters)"
								},
								{
									"key": "profilePicture",
									"type": "file",
									"src": [],
									"description": "Profile picture file (image). Will be uploaded to Cloudinary and stored in billiards/organizers/profiles/ folder. Old profile picture will be automatically deleted."
								},
								{
									"key": "profilePicUrl",
									"value": "",
									"type": "text",
									"description": "Alternative: Direct profile picture URL (if not uploading file). Leave empty if using profilePicture file upload."
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/v1/organizers/profile",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "organizers", "profile" ]
						},
						"description": "Update organizer profile with Cloudinary file upload support. All fields are optional - only provided fields will be updated. Requires valid organizer token.\n\n**Request Body (multipart/form-data, All Optional):**\n- `organizationName` (string, max 100): Organization name\n- `contactPersonName` (string, max 100): Contact person name\n- `phone` (string, max 15): Phone number\n- `email` (string, max 100): Email address\n- `city` (string, max 100): City\n- `state` (string, max 100): State\n- `country` (string, max 100): Country\n- `profilePicture` (file): Profile picture file upload - will be uploaded to Cloudinary in billiards/organizers/profiles/ folder\n- `profilePicUrl` (string): Alternative - Direct profile picture URL (use this if not uploading file)\n\n**Cloudinary Integration:**\n- Profile pictures are automatically uploaded to Cloudinary\n- Files are stored in: billiards/organizers/profiles/{userId}_{timestamp}.jpg\n- Old profile pictures are automatically deleted when a new one is uploaded\n- Cloudinary returns secure HTTPS URL which is stored in database\n- Requires CLOUDINARY_CLOUD_NAME, CLOUDINARY_API_KEY, and CLOUDINARY_API_SECRET environment variables\n\n**Validations:**\n- Organizer must be authenticated\n- At least one field must be provided\n- File uploads are limited to images (validated by multer middleware)\n\n**Note:** \n- If organizer profile doesn't exist, it will be automatically created with provided fields and defaults (org_id extracted from user identifier).\n- Use either profilePicture (file upload) OR profilePicUrl (URL string), not both.\n- If profilePicture file is provided, it takes precedence over profilePicUrl."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Profile updated successfully\",\n  \"data\": {\n    \"id\": \"organizer-profile-uuid\",\n    \"userId\": \"user-uuid\",\n    \"orgId\": \"ORG0022\",\n    \"organizationName\": \"Mumbai Billiards Club\",\n    \"contactPersonName\": \"John Doe\",\n    \"phone\": \"+1234567890\",\n    \"email\": \"contact@mumbaibilliards.com\",\n    \"city\": \"Mumbai\",\n    \"state\": \"Maharashtra\",\n    \"country\": \"India\",\n    \"isPremium\": false,\n    \"profilePicUrl\": \"https://res.cloudinary.com/your-cloud-name/image/upload/v1234567890/billiards/organizers/profiles/user-uuid_1234567890.jpg\",\n    \"createdAt\": \"2025-11-14T10:00:00.000Z\",\n    \"updatedAt\": \"2025-11-15T12:00:00.000Z\"\n  }\n}"
						},
						{
							"name": "Cloudinary Upload Error",
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Failed to upload profile picture to Cloudinary. Please try again.\"\n}"
						},
						{
							"name": "Cloudinary Not Configured",
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Cloudinary is not configured. Please check environment variables.\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Organizer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Organizer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not an organizer\"\n}"
						}
					]
				}
			],
			"description": "Organizer-specific endpoints for managing tournaments"
		},
		{
			"name": "Customers",
			"item": [
				{
					"name": "Get Tournament",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/customers/tournaments/{{tournament_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"customers",
								"tournaments",
								"{{tournament_id}}"
							]
						},
						"description": "Get tournament details for customer portal. Returns tournament with is_registration_open and is_customer_registered fields. Requires valid customer token.\n\n**URL Parameters:**\n- `tournamentId`: Tournament ID (use {{tournament_id}} variable)\n\n**Response Fields:**\n- `is_registration_open` (boolean): Whether registration is open (from database)\n- `is_customer_registered` (boolean): Whether the authenticated customer is registered for this tournament\n\n**Note:** \n- If customer is authenticated, the API will check if they are registered and set is_customer_registered accordingly.\n- is_registration_open comes directly from the tournaments.is_registration_open database column."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Tournament fetched successfully\",\n  \"data\": {\n    \"tournament\": {\n      \"id\": \"f79a142b-d6ae-4c6a-b38e-23ca34ad570e\",\n      \"tournamentName\": \"Mumbai Open 8-Ball Championship\",\n      \"tournamentId\": \"TOUR0001\",\n      \"organizerId\": \"organizer-uuid\",\n      \"venueId\": \"venue-uuid\",\n      \"gameType\": \"8-ball\",\n      \"tournamentDate\": \"2025-11-17T00:00:00.000Z\",\n      \"tournamentTime\": \"14:00:00\",\n      \"registrationDeadline\": \"2025-11-16T23:59:59.000Z\",\n      \"maxPlayers\": 64,\n      \"entryFee\": 750.00,\n      \"prizePool\": 10000.00,\n      \"status\": \"started\",\n      \"description\": \"Annual championship tournament\",\n      \"startedAt\": \"2025-11-17T14:00:00.000Z\",\n      \"endedAt\": null,\n      \"createdAt\": \"2025-11-14T10:00:00.000Z\",\n      \"updatedAt\": \"2025-11-17T14:00:00.000Z\",\n      \"is_registration_open\": true,\n      \"is_customer_registered\": false\n    }\n  }\n}"
						},
						{
							"name": "Not Found - Tournament",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Unauthorized\"\n}"
						}
					]
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"url": {
							"raw": "{{base_url}}/api/v1/customers/profile",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "customers", "profile" ]
						},
						"description": "Get customer profile. Returns the current customer's profile information including all profile fields. Requires valid customer token.\n\n**Response Fields:**\n- `id` (uuid): Customer profile ID\n- `userId` (uuid): User ID\n- `firstName` (string): First name\n- `lastName` (string): Last name\n- `displayName` (string): Auto-generated display name (read-only)\n- `phone` (string, nullable): Phone number\n- `profilePic` (string, nullable): Profile picture URL (Cloudinary URL if uploaded)\n- `skillLevel` (string, nullable): Skill level - 'beginner', 'intermediate', 'advanced', or 'expert'\n- `rating` (number, nullable): Rating\n- `city` (string, nullable): City\n- `state` (string, nullable): State\n- `country` (string, nullable): Country\n- `preferredGameTypes` (string[], nullable): Array of preferred game types\n- `createdAt` (datetime): Profile creation timestamp\n- `updatedAt` (datetime): Profile last update timestamp\n\n**Validations:**\n- Customer must be authenticated\n- Customer profile must exist\n\n**Note:** \n- Returns 404 if customer profile doesn't exist\n- Returns 403 if user is not a customer"
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Profile fetched successfully\",\n  \"data\": {\n    \"id\": \"customer-profile-uuid\",\n    \"userId\": \"user-uuid\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"displayName\": \"John Doe\",\n    \"phone\": \"+1234567890\",\n    \"profilePic\": \"https://res.cloudinary.com/your-cloud-name/image/upload/v1234567890/billiards/customers/profiles/user-uuid_1234567890.jpg\",\n    \"skillLevel\": \"intermediate\",\n    \"rating\": 1200,\n    \"city\": \"Mumbai\",\n    \"state\": \"Maharashtra\",\n    \"country\": \"India\",\n    \"preferredGameTypes\": [\"8-ball\", \"9-ball\", \"snooker\"],\n    \"createdAt\": \"2025-11-14T10:00:00.000Z\",\n    \"updatedAt\": \"2025-11-15T12:00:00.000Z\"\n  }\n}"
						},
						{
							"name": "Not Found - Profile",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Customer profile not found\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Customer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Customer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not a customer\"\n}"
						}
					]
				},
				{
					"name": "Update Profile",
					"request": {
						"method": "PUT",
						"header": [
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "firstName",
									"value": "John",
									"type": "text",
									"description": "First name (max 50 characters)"
								},
								{
									"key": "lastName",
									"value": "Doe",
									"type": "text",
									"description": "Last name (max 50 characters)"
								},
								{
									"key": "phone",
									"value": "+1234567890",
									"type": "text",
									"description": "Phone number (max 15 characters)"
								},
								{
									"key": "profilePicture",
									"type": "file",
									"src": [],
									"description": "Profile picture file (image). Will be uploaded to Cloudinary and stored in billiards/customers/profiles/ folder. Old profile picture will be automatically deleted."
								},
								{
									"key": "profilePic",
									"value": "",
									"type": "text",
									"description": "Alternative: Direct profile picture URL (if not uploading file). Leave empty if using profilePicture file upload."
								},
								{
									"key": "skillLevel",
									"value": "intermediate",
									"type": "text",
									"description": "Skill level: 'beginner', 'intermediate', 'advanced', or 'expert'"
								},
								{
									"key": "rating",
									"value": "1200",
									"type": "text",
									"description": "Rating (must be >= 0)"
								},
								{
									"key": "city",
									"value": "Mumbai",
									"type": "text",
									"description": "City (max 100 characters)"
								},
								{
									"key": "state",
									"value": "Maharashtra",
									"type": "text",
									"description": "State (max 100 characters)"
								},
								{
									"key": "country",
									"value": "India",
									"type": "text",
									"description": "Country (max 100 characters)"
								},
								{
									"key": "preferredGameTypes",
									"value": "[\"8-ball\", \"9-ball\", \"snooker\"]",
									"type": "text",
									"description": "Array of preferred game types as JSON string (e.g., [\"8-ball\", \"9-ball\", \"snooker\"])"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/v1/customers/profile",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "customers", "profile" ]
						},
						"description": "Update customer profile with Cloudinary file upload support. All fields are optional - only provided fields will be updated. Requires valid customer token.\n\n**Request Body (multipart/form-data, All Optional):**\n- `firstName` (string, max 50): First name\n- `lastName` (string, max 50): Last name\n- `phone` (string, max 15): Phone number\n- `profilePicture` (file): Profile picture file upload - will be uploaded to Cloudinary in billiards/customers/profiles/ folder\n- `profilePic` (string, max 255): Alternative - Direct profile picture URL (use this if not uploading file)\n- `skillLevel` (string): Skill level - must be one of: 'beginner', 'intermediate', 'advanced', 'expert'\n- `rating` (number): Rating (must be >= 0)\n- `city` (string, max 100): City\n- `state` (string, max 100): State\n- `country` (string, max 100): Country\n- `preferredGameTypes` (string): JSON array string of preferred game types (e.g., '[\"8-ball\", \"9-ball\", \"snooker\"]')\n\n**Cloudinary Integration:**\n- Profile pictures are automatically uploaded to Cloudinary\n- Files are stored in: billiards/customers/profiles/{userId}_{timestamp}.jpg\n- Old profile pictures are automatically deleted when a new one is uploaded\n- Cloudinary returns secure HTTPS URL which is stored in database\n- Requires CLOUDINARY_CLOUD_NAME, CLOUDINARY_API_KEY, and CLOUDINARY_API_SECRET environment variables\n\n**Validations:**\n- Customer must be authenticated\n- At least one field must be provided\n- skillLevel must be one of: 'beginner', 'intermediate', 'advanced', 'expert'\n- rating must be >= 0\n- File uploads are limited to images (validated by multer middleware)\n\n**Note:** \n- If customer profile doesn't exist, it will be automatically created with provided fields and defaults.\n- display_name is auto-generated from first_name and last_name (read-only).\n- Use either profilePicture (file upload) OR profilePic (URL string), not both.\n- If profilePicture file is provided, it takes precedence over profilePic URL."
					},
					"response": [
						{
							"name": "Success",
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Profile updated successfully\",\n  \"data\": {\n    \"id\": \"customer-profile-uuid\",\n    \"userId\": \"user-uuid\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"displayName\": \"John Doe\",\n    \"phone\": \"+1234567890\",\n    \"profilePic\": \"https://res.cloudinary.com/your-cloud-name/image/upload/v1234567890/billiards/customers/profiles/user-uuid_1234567890.jpg\",\n    \"skillLevel\": \"intermediate\",\n    \"rating\": 1200,\n    \"city\": \"Mumbai\",\n    \"state\": \"Maharashtra\",\n    \"country\": \"India\",\n    \"preferredGameTypes\": [\"8-ball\", \"9-ball\", \"snooker\"],\n    \"createdAt\": \"2025-11-14T10:00:00.000Z\",\n    \"updatedAt\": \"2025-11-15T12:00:00.000Z\"\n  }\n}"
						},
						{
							"name": "Bad Request - No Fields Provided",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"At least one field must be provided for update\"\n}"
						},
						{
							"name": "Bad Request - Invalid Skill Level",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Invalid skill level. Must be one of: beginner, intermediate, advanced, expert\"\n}"
						},
						{
							"name": "Bad Request - Invalid Rating",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Rating must be greater than or equal to 0\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Customer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Customer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not a customer\"\n}"
						},
						{
							"name": "Internal Server Error - Cloudinary Not Configured",
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Cloudinary is not configured. Please check environment variables.\"\n}"
						},
						{
							"name": "Internal Server Error - Cloudinary Upload Failed",
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Failed to upload profile picture to Cloudinary. Please try again.\"\n}"
						}
					]
				},
				{
					"name": "Register for Tournament",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.success && jsonData.data) {",
									"        pm.test('Registration successful', function () {",
									"            pm.expect(jsonData.data.registrationId).to.exist;",
									"            pm.expect(jsonData.data.status).to.eql('registered');",
									"        });",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{ "key": "Content-Type", "value": "application/json" },
							{ "key": "Authorization", "value": "Bearer {{access_token}}" }
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paymentAmount\": 750.00,\n  \"paymentMethod\": \"upi\",\n  \"paymentStatus\": \"paid\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/customers/tournaments/{{tournament_id}}/register",
							"host": [ "{{base_url}}" ],
							"path": [ "api", "v1", "customers", "tournaments", "{{tournament_id}}", "register" ]
						},
						"description": "Register a customer for a tournament. Requires valid customer token. Tournament must be open for registration (status: 'scheduled', 'registration_open', or 'started') and not full.\n\n**URL Parameters:**\n- `tournamentId`: Tournament ID (use {{tournament_id}} variable)\n\n**Request Body (Optional):**\n- `paymentAmount` (number): Payment amount (defaults to tournament entry fee)\n- `paymentMethod` (string): Payment method - 'upi', 'credit_card', or 'cash' (default: 'upi')\n- `paymentStatus` (string): Payment status - 'paid', 'pending', or 'failed' (default: 'pending')\n\n**Validations:**\n- Customer must be authenticated\n- Tournament must exist\n- Tournament status must be 'scheduled', 'registration_open', or 'started' (registration closes when tournament is 'running', 'completed', or 'cancelled')\n- Tournament must not be full\n- Customer must not already be registered\n\n**Note:** \n- If a customer profile doesn't exist, it will be automatically created with default values (name: 'Customer User', skill_level: 'beginner', rating: 1000).\n- Registration deadline is a soft limit - late registration is allowed if tournament hasn't reached 'running' status yet. Registration closes when tournament status changes to 'running', 'completed', or 'cancelled'."
					},
					"response": [
						{
							"name": "Success",
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Successfully registered for tournament\",\n  \"data\": {\n    \"registrationId\": \"registration-uuid\",\n    \"tournamentId\": \"tournament-uuid\",\n    \"customerId\": \"customer-profile-uuid\",\n    \"registrationDate\": \"2025-11-14T10:00:00.000Z\",\n    \"paymentStatus\": \"paid\",\n    \"paymentAmount\": 750.00,\n    \"paymentMethod\": \"upi\",\n    \"status\": \"registered\"\n  }\n}"
						},
						{
							"name": "Bad Request - Already Registered",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Customer is already registered for this tournament\"\n}"
						},
						{
							"name": "Bad Request - Tournament Not Accepting Registrations",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament is not accepting registrations. Current status: started\"\n}"
						},
						{
							"name": "Bad Request - Tournament Full",
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament is full\"\n}"
						},
						{
							"name": "Not Found - Tournament",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Tournament not found\"\n}"
						},
						{
							"name": "Not Found - User",
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User not found\"\n}"
						},
						{
							"name": "Unauthorized - Invalid Token",
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"Customer ID not found in token\"\n}"
						},
						{
							"name": "Forbidden - Not Customer",
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [ { "key": "Content-Type", "value": "application/json" } ],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"message\": \"User is not a customer\"\n}"
						}
					]
				}
			],
			"description": "Customer portal APIs for tournament management and registration"
		},
		{
			"name": "Public",
			"item": [
				{
					"name": "Get Active Organizers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/public/organizers/active",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"public",
								"organizers",
								"active"
							]
						},
						"description": "Returns active organizers. Requires a valid authenticated token (any user type)."
					},
					"response": []
				},
				{
					"name": "Get Organizer Tournaments (Public)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/public/organizers/{{organizer_id}}/tournaments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"public",
								"organizers",
								"{{organizer_id}}",
								"tournaments"
							]
						},
						"description": "Returns tournaments for the given organizer ID. Requires any valid authenticated token."
					},
					"response": []
				}
			],
			"description": "Public read endpoints that require a valid authenticated token"
		},
		{
			"name": "System & Health",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check if the service is running"
					},
					"response": []
				},
				{
					"name": "Auth Service Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"health"
							]
						},
						"description": "Detailed health check for auth service"
					},
					"response": []
				},
				{
					"name": "API Test",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/test",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"test"
							]
						},
						"description": "Test API endpoint"
					},
					"response": []
				},
				{
					"name": "Hello World",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								""
							]
						},
						"description": "Basic hello world endpoint"
					},
					"response": []
				}
			],
			"description": "System health and test endpoints"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3005",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "organizer_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "tournament_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "round_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "match_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "from_round_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "to_round_id",
			"value": "",
			"type": "string"
		}
	]
}
